# 写真家モード実装計画書

## 📋 プロジェクト概要

### 基本情報
- **追加機能名**: 写真家モード（画像のみ検索）
- **対象ファイル**: JPEG/JPG、PNG、GIF（画像ファイルのみ）
- **既存モード**: デザイン事務所、会計事務所に続く3つ目のモード
- **特徴**: 画像コンテンツに特化した検索・分析機能

### 写真家モードの特徴
- **対象ユーザー**: 写真家、フォトグラファー、写真スタジオ
- **解決する課題**: 
  - 大量の写真素材からの効率的な検索
  - 撮影内容・被写体・シーン・技法による分類
  - 撮影データ（EXIF情報）を活用した管理
  - クライアント別・プロジェクト別の整理

## 🎯 実装計画

### Phase 1: 基本設定の追加（1時間）
#### 1.1 Config.gsに写真家モード設定追加
```javascript
'photographer': {
  name: '写真家',
  systemTitle: '📸 写真家・フォトスタジオ検索システム',
  searchExamples: ['ポートレート', '風景', 'モデル', 'スタジオ', '自然光', 'イベント'],
  placeholder: '例: ポートレート, 風景, モデル撮影...',
  colors: {
    primary: '#6B46C1',      // 紫色（クリエイティブ）
    light: '#8B5CF6',
    pale: '#C4B5FD',
    cream: '#F3F0FF',
    dark: '#553C9A',
    accent: '#7C3AED'
  },
  aiPrompt: 'あなたは写真家・フォトスタジオの専門AIです。写真の内容、撮影技法、被写体を詳細に分析します。',
  documentTypes: ['写真', 'ポートレート', '風景', 'スタジオ', 'イベント', '商品']
}
```

#### 1.2 写真家専用の解析フィールド定義
```javascript
analysisFields: [
  '被写体・モデル',
  '撮影場所・背景',
  '撮影技法・ライティング',
  'カメラ設定（ISO・絞り・シャッター）',
  '色調・雰囲気',
  'ジャンル・カテゴリ'
]
```

### Phase 2: DocumentProcessor.gsの拡張（1.5時間）
#### 2.1 画像専用処理ロジックの実装
- 対応ファイル形式をJPEG/PNG/GIFに限定
- PDFファイルの処理を無効化
- EXIF情報の抽出機能追加

#### 2.2 写真家専用プロンプトの実装
```javascript
static createPhotographerImageAnalysisPrompt(fileName, mimeType, exifData) {
  return `
あなたは写真家・フォトスタジオ検索システムです。この写真から検索用キーワードを抽出してください。

【Gemini 2.0 Flash最適化指示】
- 高精度な画像認識機能を活用し、写真の構図・被写体・技法を詳細に解析してください
- 写真・映像分野の専門知識を活用し、正確な分類を行ってください
- 色彩・光線・構図の理解を活用し、撮影技法を正確に判定してください

【抽出すべき項目（写真家特化）】
1. 被写体・人物（ポートレート、グループ、子供、カップル、家族等）
2. 撮影場所・環境（スタジオ、屋外、室内、自然、都市部等）
3. 撮影ジャンル（ウェディング、イベント、商品、風景、ファッション等）
4. 撮影技法（自然光、ストロボ、逆光、シルエット、長時間露光等）
5. 構図・アングル（クローズアップ、全身、俯瞰、ローアングル等）
6. 色調・雰囲気（モノクロ、セピア、ビビッド、パステル、ドラマチック等）
7. 季節・時間帯（春夏秋冬、朝昼夜、ゴールデンアワー等）
8. 服装・スタイル（カジュアル、フォーマル、コスチューム等）

【出力形式】
- 400文字以内で簡潔に
- 検索しやすいキーワード形式で出力
- 重要度順に並べる（被写体・ジャンル・技法を優先）
- 写真・映像の専門用語を積極的に含める

ファイル名: ${fileName}
画像形式: ${mimeType}
${exifData ? `撮影データ: ${exifData}` : ''}

この写真の内容を専門的な視点で詳細に分析し、上記の観点でキーワードを抽出してください。
`;
}
```

### Phase 3: UI（search.html）の拡張（1時間）
#### 3.1 モード選択機能の追加
- 業種選択セレクトボックスの実装
- 動的カラーテーマ切り替え機能
- モード別検索例の表示切替

#### 3.2 写真家モード専用UI要素
- 紫系カラーテーマの適用
- 写真特化の検索例表示
- 撮影データ表示エリア（EXIF情報用）

### Phase 4: プロンプト特化とAI分析強化（1時間）
#### 4.1 写真分析プロンプトの最適化
- 被写体認識の精度向上
- 撮影技法の詳細分析
- 色調・雰囲気の表現強化

#### 4.2 EXIF情報活用機能
- カメラ機種・レンズ情報の抽出
- 撮影設定（ISO、絞り、シャッター速度）の記録
- 位置情報（GPS）の活用

### Phase 5: テスト・デバッグ・最適化（30分）
#### 5.1 各モード間の切り替えテスト
#### 5.2 写真ファイルでの動作確認
#### 5.3 UIの表示確認とレスポンシブ対応

## 🎨 写真家モードの特徴的機能

### 対応ファイル形式
- **JPEG/JPG**: デジタル写真の標準形式
- **PNG**: 高品質画像・透過画像
- **GIF**: アニメーション・Web用画像
- **PDF除外**: 写真家モードでは画像ファイルのみに特化

### 専用解析項目
1. **被写体分析**: 人物、動物、物体、風景の詳細識別
2. **撮影技法**: ライティング、構図、カメラ設定の分析
3. **シーン識別**: 屋内外、時間帯、季節、イベント種別
4. **色彩解析**: カラーパレット、色調、雰囲気の特定
5. **スタイル判定**: ファッション、アート、商業写真の分類

### 検索強化機能
- **被写体検索**: 「ポートレート」「風景」「商品」等
- **技法検索**: 「自然光」「ストロボ」「逆光」等
- **雰囲気検索**: 「ドラマチック」「ソフト」「ビビッド」等
- **場所検索**: 「スタジオ」「屋外」「海辺」等

## 🚀 実装後の機能拡張可能性

### 将来的な拡張機能
1. **RAW画像対応**: CR2、NEF、ARW等のRAWファイル
2. **動画対応**: MP4、MOV等の動画ファイル
3. **AI顔認識**: 特定人物の写真検索
4. **類似画像検索**: 構図・色調が似た写真の検索
5. **撮影メタデータ**: GPS位置、撮影時刻での絞り込み

### 他業種への応用
- **デザイナー**: イラスト・グラフィック素材管理
- **広告代理店**: 広告素材・キャンペーン画像管理
- **EC事業者**: 商品画像・カタログ写真管理

## 📊 成功指標

### 技術指標
- 写真ファイルで90%以上の処理成功率
- 被写体・技法の正確な識別
- モード切り替えの円滑な動作

### ユーザー体験指標
- 写真特化の検索精度向上
- 直感的なモード選択操作
- 写真家向けの専門用語での検索対応

## 🔧 実装時の注意点

### セキュリティ・プライバシー
- ポートレート写真での個人情報保護
- GPS位置情報の適切な取り扱い
- クライアント写真の機密性確保

### パフォーマンス
- 高解像度画像での処理時間最適化
- 大量画像ファイルでの安定動作
- API使用量の適切な管理

### 互換性
- 既存2モードとの共存
- モード切り替え時のデータ整合性
- 設定保存・復元の正確性

---

## 📝 開発スケジュール

| フェーズ | 作業内容 | 予想時間 | 担当 |
|---------|---------|---------|------|
| Phase 1 | Config.gs設定追加 | 1時間 | Claude Code |
| Phase 2 | DocumentProcessor拡張 | 1.5時間 | Claude Code |
| Phase 3 | UI拡張・モード選択 | 1時間 | Claude Code |
| Phase 4 | プロンプト最適化 | 1時間 | Claude Code |
| Phase 5 | テスト・デバッグ | 30分 | Claude Code |
| **合計** | **全体実装** | **5時間** | |

---

## 🎯 次のアクション

1. **Config.gsに写真家モード設定を追加**
2. **DocumentProcessor.gsで画像専用処理を実装**
3. **search.htmlにモード選択UIを追加**
4. **写真家専用AIプロンプトを実装**
5. **各モードでのテスト実行**

**重要**: 既存のデザイン事務所・会計事務所モードとの互換性を保ちながら、写真家モードを第3のオプションとして追加します。